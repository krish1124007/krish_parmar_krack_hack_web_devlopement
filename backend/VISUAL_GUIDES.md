# Authority Domain System - Visual Guides & Diagrams

## System Architecture Overview

```
KRACKHACK COMPLAINT MANAGEMENT SYSTEM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ADMIN (Super User)                    â”‚
â”‚  Can see: All Domains + All Complaints + All Authority   â”‚
â”‚  Can do: Monitor system health, view analytics           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AUTHORITY      â”‚      â”‚    STUDENT       â”‚
â”‚                  â”‚      â”‚                  â”‚
â”‚ Manages Domain   â”‚â”€â”€â”€â”€â”€â”€â”‚ Submits Problem  â”‚
â”‚ (Academics)      â”‚      â”‚ (in Domain)      â”‚
â”‚                  â”‚      â”‚                  â”‚
â”‚ Processes: ğŸ”§    â”‚      â”‚ Tracks: ğŸ“Š       â”‚
â”‚ - Accept P.      â”‚      â”‚ - Status         â”‚
â”‚ - Update Status  â”‚      â”‚ - Authority Info â”‚
â”‚ - Resolve        â”‚      â”‚ - Timeline       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  AUTHORITY DOMAIN    â”‚
         â”‚  (e.g., Academics)   â”‚
         â”‚                      â”‚
         â”‚ Properties:          â”‚
         â”‚ - Name (unique)      â”‚
         â”‚ - Description        â”‚
         â”‚ - Authority (owner)  â”‚
         â”‚ - Problems (list)    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Complaint Lifecycle Flowchart

```
STUDENT CREATES COMPLAINT
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Select Domain (REQUIRED)            â”‚
â”‚ â”œâ”€ Academics                        â”‚
â”‚ â”œâ”€ Hostel                           â”‚
â”‚ â”œâ”€ Finance                          â”‚
â”‚ â””â”€ [Submit Form]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Complaint      â”‚
        â”‚  Status: NEW    â”‚
        â”‚  Authority: -   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
              [Routed to Domain]
                 â”‚
                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Authority Dashboard     â”‚
    â”‚ New Complaints: 1 new   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼ [Accept Button]
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Complaint              â”‚
    â”‚  Status: PROGRESS       â”‚ â—„â”€â”€â”€ Authority assigned
    â”‚  Authority: Dr. Smith   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    [Authority working on it]
             â”‚
             â–¼ [Update Status]
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Complaint              â”‚
    â”‚  Status: RESOLVED       â”‚
    â”‚  Authority: Dr. Smith   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ STUDENT NOTIFIED       â”‚
    â”‚ Complaint Resolved!    â”‚
    â”‚ Authority: Dr. Smith   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Database Schema Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    AUTHORITY     â”‚
â”‚                  â”‚
â”‚ â”œâ”€ _id           â”‚
â”‚ â”œâ”€ name          â”‚
â”‚ â”œâ”€ email         â”‚
â”‚ â”œâ”€ password      â”‚
â”‚ â”œâ”€ department    â”‚
â”‚ â”œâ”€ domain â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”œâ”€ role          â”‚    â”‚ (One-to-One)
â”‚ â””â”€ timestamps    â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    AUTHORITY DOMAIN         â”‚
        â”‚                             â”‚
        â”‚ â”œâ”€ _id                      â”‚
        â”‚ â”œâ”€ name (unique)            â”‚
        â”‚ â”œâ”€ description              â”‚
        â”‚ â”œâ”€ authority â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
        â”‚ â””â”€ timestamps        â”‚      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                 â”‚                    â”‚
                 â”‚ (One-to-Many)      â”‚
                 â”‚                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”˜
        â”‚     PROBLEM          â”‚  â”‚
        â”‚ (Complaint)          â”‚  â”‚
        â”‚                      â”‚  â”‚
        â”‚ â”œâ”€ _id              â”‚  â”‚
        â”‚ â”œâ”€ title            â”‚  â”‚
        â”‚ â”œâ”€ description      â”‚  â”‚
        â”‚ â”œâ”€ image (URL)      â”‚  â”‚
        â”‚ â”œâ”€ department       â”‚  â”‚
        â”‚ â”œâ”€ domain â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”˜
        â”‚ â”œâ”€ authority        â”‚  (Optional - set when accepted)
        â”‚ â”œâ”€ status           â”‚  new | progress | resolved
        â”‚ â”œâ”€ priority         â”‚  high | medium | low
        â”‚ â”œâ”€ student â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ â””â”€ timestamps       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”†
                              â”‚ (Many-to-One)
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚     STUDENT        â”‚
                    â”‚                    â”‚
                    â”‚ â”œâ”€ _id             â”‚
                    â”‚ â”œâ”€ name            â”‚
                    â”‚ â”œâ”€ email           â”‚
                    â”‚ â”œâ”€ password        â”‚
                    â”‚ â”œâ”€ myclass         â”‚
                    â”‚ â”œâ”€ domain â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ â”œâ”€ role            â”‚ (Set after 1st complaint)
                    â”‚ â””â”€ timestamps      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Access Control Matrix

```
FEATURE / USER TYPE      â”‚ STUDENT â”‚ AUTHORITY â”‚ ADMIN
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€
View all domains        â”‚    âœ…    â”‚     âœ…     â”‚   âœ…
Create domain           â”‚    âŒ    â”‚    ğŸŸ¡*    â”‚   âŒ
  *One per authority
View own domain         â”‚    âŒ    â”‚     âœ…     â”‚   âŒ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€
Create complaint        â”‚    âœ…    â”‚     âŒ     â”‚   âŒ
  (must select domain)
View own complaints     â”‚    âœ…    â”‚     âŒ     â”‚   âŒ
View domain complaints  â”‚    âŒ    â”‚     âœ…     â”‚   âŒ
View all complaints     â”‚    âŒ    â”‚     âŒ     â”‚   âœ…
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€
Accept complaint        â”‚    âŒ    â”‚    ğŸŸ¡*    â”‚   âŒ
  *Only in own domain
Update complaint status â”‚    âŒ    â”‚    ğŸŸ¡*    â”‚   âŒ
  *Only if assigned
Delete complaint        â”‚    âŒ    â”‚     âŒ     â”‚  ğŸŸ¡*
  *Usually not, only admin
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€
View complaints stats   â”‚    âŒ    â”‚     âœ…     â”‚   âœ…
View system metrics     â”‚    âŒ    â”‚     âŒ     â”‚   âœ…
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€
```

---

## API Call Flow Diagrams

### Authority Creating Domain

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Authority Logs In                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ POST /authority/login
             â”‚ { email, password }
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Returns accessToken    â”‚
    â”‚ âœ… Logged in           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ POST /authority/domain/create
             â”‚ Headers: Authorization: Bearer <token>
             â”‚ Body: { name, description }
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ âœ… Domain Created              â”‚
    â”‚ domain._id linked to authority â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ GET /authority/domain/my
             â”‚
             â–¼
    âœ… Domain ready for complaints
```

### Student Creating Complaint with Domain

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Student Logs In              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚ POST /student/login
            â”‚ { email, className }
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ âœ… Logged in       â”‚
   â”‚ accessToken ready  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ GET /authority/domain/all
            â”‚
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ âœ… Domains Listed                â”‚
   â”‚ - Academics (Dr. Smith)          â”‚
   â”‚ - Hostel (Mr. Jones)             â”‚
   â”‚ - Finance (Ms. Brown)            â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚ User selects domain
            â”‚
            â”‚ POST /problem/create
            â”‚ FormData:
            â”‚   title, description
            â”‚   department, priority
            â”‚   domainId â—„â”€â”€â”€ REQUIRED
            â”‚   image file
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ âœ… Complaint Created     â”‚
   â”‚ Routed to domain owner   â”‚
   â”‚ Student.domain updated   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ GET /problem/student/problems
            â”‚
            â–¼
   âœ… Complaint appears in list
     Shows: Domain name + Authority name + Status
```

### Authority Managing Complaints

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Authority Logs In            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚ POST /authority/login
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ âœ… Logged in       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ GET /authority/complaints
            â”‚ (All new complaints in domain)
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ âœ… New Complaints                â”‚
   â”‚ - Complaint 1: Lab broken        â”‚
   â”‚ - Complaint 2: Hostel issue      â”‚
   â”‚ - Complaint 3: Finance query     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ Authority reads Complaint 1
            â”‚ POST /authority/complaints/<id>/accept
            â”‚
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ âœ… Complaint Accepted                  â”‚
   â”‚ Status: new â†’ progress                 â”‚
   â”‚ Authority assigned                     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ [Authority works on complaint]
            â”‚
            â”‚ PUT /authority/complaints/<id>/status
            â”‚ Body: { status: "resolved" }
            â”‚
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ âœ… Complaint Resolved                  â”‚
   â”‚ Status: progress â†’ resolved            â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ GET /authority/assigned-complaints
            â”‚
            â–¼
   âœ… Shows in resolved complaints list
```

---

## Data Privacy Visualization

```
STUDENT A's Perspective:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ My Complaints (Can See)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… My Complaint 1         â”‚
â”‚ âœ… My Complaint 2         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Others' Complaints        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âŒ Student B's complaint  â”‚
â”‚ âŒ Student C's complaint  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AUTHORITY PERSPECTIVE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ My Domain Complaints      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… All Academics issues   â”‚
â”‚ âœ… From all students      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Other Domains             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âŒ Hostel complaints      â”‚
â”‚ âŒ Finance complaints     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ADMIN PERSPECTIVE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ All System Data (Can See)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… All domains              â”‚
â”‚ âœ… All complaints           â”‚
â”‚ âœ… All authorities          â”‚
â”‚ âœ… All students             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Frontend Component Structure

```
AUTHORITY PAGES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Authority
  â”œâ”€ Dashboard
  â”‚  â”œâ”€ My Domain Card
  â”‚  â”œâ”€ Stats Panel
  â”‚  â”‚  â”œâ”€ New Complaints: 5
  â”‚  â”‚  â”‚  â””â”€ [View/Accept]
  â”‚  â”‚  â”œâ”€ In Progress: 12
  â”‚  â”‚  â”‚  â””â”€ [Manage]
  â”‚  â”‚  â””â”€ Resolved: 28
  â”‚  â”‚
  â”‚  â”œâ”€ New Complaints Section
  â”‚  â”‚  â””â”€ Card list with [Accept] button
  â”‚  â”‚
  â”‚  â””â”€ My Assigned Complaints
  â”‚     â””â”€ Table with Status dropdown
  â”‚
  â””â”€ Manage
     â””â”€ Full complaint management interface


STUDENT PAGES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Student
  â”œâ”€ Create Complaint
  â”‚  â”œâ”€ Form fields...
  â”‚  â”œâ”€ Domain Dropdown â—„â”€â”€â”€ REQUIRED
  â”‚  â”‚  â”œâ”€ Academics (Dr. Smith)
  â”‚  â”‚  â”œâ”€ Hostel (Mr. Jones)
  â”‚  â”‚  â””â”€ Finance (Ms. Brown)
  â”‚  â”œâ”€ File upload
  â”‚  â””â”€ [Submit]
  â”‚
  â””â”€ My Complaints
     â””â”€ List with filters
        â”œâ”€ Filter by: Domain
        â”œâ”€ Filter by: Status
        â””â”€ Each shows:
           â”œâ”€ Title
           â”œâ”€ Domain
           â”œâ”€ Status
           â”œâ”€ Authority (if assigned)
           â””â”€ Created date


ADMIN PAGES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Admin
  â”œâ”€ System Overview
  â”‚  â”œâ”€ Total Domains: 5
  â”‚  â”œâ”€ Total Complaints: 47
  â”‚  â”œâ”€ Authorities: 5
  â”‚  â””â”€ Charts & Stats
  â”‚
  â”œâ”€ Domain Management
  â”‚  â””â”€ List all with owner info
  â”‚
  â”œâ”€ Complaint Monitoring
  â”‚  â”œâ”€ By Status
  â”‚  â”œâ”€ By Domain
  â”‚  â”œâ”€ By Authority
  â”‚  â””â”€ By Student
  â”‚
  â””â”€ Authority Workload
     â””â”€ Show each authority's assigned complaints
```

---

## Domain Visibility Layer

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              VISIBILITY LAYERS                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤

PUBLIC LAYER (Everyone sees)
  â”œâ”€ All domains (names, descriptions)
  â”œâ”€ Authority names
  â””â”€ Domain creation dates

ROLE-SPECIFIC LAYER
  â”œâ”€ STUDENT
  â”‚  â”œâ”€ Own complaints only
  â”‚  â””â”€ Can see which authority handles it
  â”‚
  â”œâ”€ AUTHORITY
  â”‚  â”œâ”€ All complaints in own domain
  â”‚  â”œâ”€ Can accept/assign
  â”‚  â””â”€ Can't see other domains
  â”‚
  â””â”€ ADMIN
     â”œâ”€ All data visible
     â”œâ”€ All domains
     â”œâ”€ All complaints
     â””â”€ All relationships

PRIVATE LAYER
  â”œâ”€ Student complaint content (only student + authority)
  â”œâ”€ Student contact info (only authority)
  â””â”€ Complaint resolution history
```

---

## Complaint Status State Machine

```
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚     COMPLAINT CREATED    â”‚
          â”‚     Status: NEW          â”‚
          â”‚   Authority: unassigned  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  AUTHORITY ACCEPTS   â”‚
        â”‚  [Accept Button]     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   IN PROGRESS        â”‚
          â”‚ Authority: assigned   â”‚
          â”‚ Working on complaint  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Authority Updates     â”‚
        â”‚  [Resolved Button]     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚      RESOLVED            â”‚
          â”‚ Complaint closed         â”‚
          â”‚ Student notified         â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Integration Points Summary

```
FRONTEND â†â”€â”€â†’ BACKEND

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AUTHORITY ROUTES                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ POST   /authority/login                     â”‚
â”‚ POST   /authority/domain/create             â”‚
â”‚ GET    /authority/domain/all                â”‚
â”‚ GET    /authority/domain/my                 â”‚
â”‚ GET    /authority/complaints                â”‚
â”‚ POST   /authority/complaints/:id/accept     â”‚
â”‚ PUT    /authority/complaints/:id/status     â”‚
â”‚ GET    /authority/assigned-complaints       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–²                           â–¼
    Frontend                    Backend
    API calls                   Express Router
         â–²                           â–¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  PROBLEM ROUTES (Updated)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ POST   /problem/create (with domainId)      â”‚
â”‚ GET    /problem/student/problems            â”‚
â”‚ GET    /problem/domain/:id/problems         â”‚
â”‚ GET    /problem/all                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Environment Setup Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      DEVELOPMENT ENVIRONMENT         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚  Backend (.env)                      â”‚
â”‚  â”œâ”€ JWT_SECRET=xxx                   â”‚
â”‚  â”œâ”€ DB_URL=mongodb://...             â”‚
â”‚  â”œâ”€ CORS_ORIGIN=http://localhost     â”‚
â”‚  â””â”€ CLOUDINARY_*=xxx                 â”‚
â”‚                                      â”‚
â”‚  MongoDB                             â”‚
â”‚  â”œâ”€ Collections auto-created         â”‚
â”‚  â”œâ”€ Indexes auto-created             â”‚
â”‚  â””â”€ Ready for data                   â”‚
â”‚                                      â”‚
â”‚  Frontend (.env)                     â”‚
â”‚  â”œâ”€ VITE_API_URL=http://localhost    â”‚
â”‚  â””â”€ VITE_APP_NAME=KrackHack          â”‚
â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

These diagrams provide a complete visual understanding of the Authority Domain System architecture and workflows.
